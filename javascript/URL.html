<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>URL 与 URI 的解惑、URL拆解 | Xxk&#39;notes</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/notes/assets/css/0.styles.04c41152.css" as="style"><link rel="preload" href="/notes/assets/js/app.07575453.js" as="script"><link rel="preload" href="/notes/assets/js/2.3eba13e5.js" as="script"><link rel="preload" href="/notes/assets/js/26.0122d4b3.js" as="script"><link rel="prefetch" href="/notes/assets/js/10.e42fcb09.js"><link rel="prefetch" href="/notes/assets/js/11.cf9c4e89.js"><link rel="prefetch" href="/notes/assets/js/12.8716224a.js"><link rel="prefetch" href="/notes/assets/js/13.4d996839.js"><link rel="prefetch" href="/notes/assets/js/14.887ab298.js"><link rel="prefetch" href="/notes/assets/js/15.6f9d2279.js"><link rel="prefetch" href="/notes/assets/js/16.eac91036.js"><link rel="prefetch" href="/notes/assets/js/17.dfa56d25.js"><link rel="prefetch" href="/notes/assets/js/18.c0dd440e.js"><link rel="prefetch" href="/notes/assets/js/19.8772fd2d.js"><link rel="prefetch" href="/notes/assets/js/20.01d8f327.js"><link rel="prefetch" href="/notes/assets/js/21.bd9c35a0.js"><link rel="prefetch" href="/notes/assets/js/22.c49495d1.js"><link rel="prefetch" href="/notes/assets/js/23.1cdb2aaf.js"><link rel="prefetch" href="/notes/assets/js/24.45902c8f.js"><link rel="prefetch" href="/notes/assets/js/25.ec350de2.js"><link rel="prefetch" href="/notes/assets/js/3.87a95941.js"><link rel="prefetch" href="/notes/assets/js/4.5e24ac21.js"><link rel="prefetch" href="/notes/assets/js/5.8e40db70.js"><link rel="prefetch" href="/notes/assets/js/6.cb7cec23.js"><link rel="prefetch" href="/notes/assets/js/7.b4fa344a.js"><link rel="prefetch" href="/notes/assets/js/8.068642c5.js"><link rel="prefetch" href="/notes/assets/js/9.b2378d13.js">
    <link rel="stylesheet" href="/notes/assets/css/0.styles.04c41152.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes/" class="home-link router-link-active"><img src="/notes/guagua.jpg" alt="Xxk'notes" class="logo"> <span class="site-name can-hide">Xxk'notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notes/" class="nav-link">
  首页|Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端|Front-end</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端|Front-end</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/html/" class="nav-link">
  html
</a></li><li class="dropdown-item"><!----> <a href="/notes/javascript/" class="nav-link router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/notes/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/notes/experience/" class="nav-link">
  面经
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title">算法|Algorithm</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法" class="mobile-dropdown-title"><span class="title">算法|Algorithm</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/Algorithm/" class="nav-link">
  Algorithm
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他 | Others</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他 | Others</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/Others/" class="nav-link">
  随想
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notes/" class="nav-link">
  首页|Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端|Front-end</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端|Front-end</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/html/" class="nav-link">
  html
</a></li><li class="dropdown-item"><!----> <a href="/notes/javascript/" class="nav-link router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/notes/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/notes/experience/" class="nav-link">
  面经
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title">算法|Algorithm</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法" class="mobile-dropdown-title"><span class="title">算法|Algorithm</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/Algorithm/" class="nav-link">
  Algorithm
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他 | Others</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他 | Others</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/Others/" class="nav-link">
  随想
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/notes/javascript/" aria-current="page" class="sidebar-link">我是真的不会啊</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>算法代码</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/javascript/URL.html" aria-current="page" class="active sidebar-link">URL 与 URI 的解惑、URL拆解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/javascript/URL.html#url-与-uri-的解惑" class="sidebar-link">URL 与 URI 的解惑</a></li><li class="sidebar-sub-header"><a href="/notes/javascript/URL.html#url-uri-的组成" class="sidebar-link">URL/URI 的组成</a></li><li class="sidebar-sub-header"><a href="/notes/javascript/URL.html#url-拆解" class="sidebar-link">URL 拆解</a></li></ul></li><li><a href="/notes/javascript/Promise.html" class="sidebar-link">Promise</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js现代教程笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/javascript/04-Object.html" class="sidebar-link">四.Object：基础知识</a></li><li><a href="/notes/javascript/05-数据类型.html" class="sidebar-link">五.数据类型</a></li><li><a href="/notes/javascript/08-原型、继承.html" class="sidebar-link">八.原型、继承</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="url-与-uri-的解惑、url拆解"><a href="#url-与-uri-的解惑、url拆解" class="header-anchor">#</a> URL 与 URI 的解惑、URL拆解</h1> <h2 id="url-与-uri-的解惑"><a href="#url-与-uri-的解惑" class="header-anchor">#</a> URL 与 URI 的解惑</h2> <p>说到 URL 就不得不提到 URI，大多数人对于 URL 与 URI 的概念都比较混淆。有时候就算是有着几年工作经验的同学也很难把两者的关系讲清。</p> <p>由于 URL 与 URI 都是简称，所以为了更加深刻的理解，我们首先把他们的英文全称拼出来</p> <ul><li>URL（Uniform Resource Locator）：统一资源定位符</li> <li>URI（Uniform Resource Identifier）：统一资源标识符</li></ul> <p>可以看出 URL 是定位符，而 URI 是标识符。</p> <p>参考<a href="https://link.zhihu.com/?target=https%3A//tools.ietf.org/html/rfc3986" target="_blank" rel="noopener noreferrer">rfc3986<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>规范中的描述：</p> <blockquote><p>A URI can be further classified as a locator, a name, or both. The term &quot;Uniform Resource Locator&quot; (URL) refers to the subset of URIs that</p></blockquote> <p>这句话所表达的重要信息是：<strong>URL 是 URI 的子集，这也明确了 URL 和 URI 的关系。</strong></p> <p>如果还没明白，这里引用一些知乎的一些优秀回答来帮你更好的理解 URL 与 URI 的概念</p> <p><a href="https://www.zhihu.com/people/catchen" target="_blank" rel="noopener noreferrer">Cat Chen<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：</p> <blockquote><p>URL 是 URI 的子集。任何东西，只要能够唯一地标识出来，都可以说这个标识是 URI 。如果这个标识是一个可获取到上述对象的路径，那么同时它也可以是一个 URL ；但如果这个标识不提供获取到对象的路径，那么它就必然不是 URL 。</p></blockquote> <p><a href="https://www.zhihu.com/people/rio" target="_blank" rel="noopener noreferrer">Rio<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：</p> <blockquote><p>一句话解释：URI 和 URL 都定义了 what the resource is。URL 还定义了 how to get the resource。</p></blockquote> <p>看到这里想必你已经明确的 URL 与 URI 的概念与区别，简单来讲就是：一个 URL 一定是一个 URI，但是一个 URI 不一定是一个 URL，URI 是标识而 URL 是路径。</p> <h2 id="url-uri-的组成"><a href="#url-uri-的组成" class="header-anchor">#</a> URL/URI 的组成</h2> <p>我们知道了 URL 与 URI 的概念之后，接下来让我们深入了解一下 URI 中究竟有什么（由于 URL 是 URI 的子集，所以之后统一使用 URI 字眼）</p> <p>根据<a href="https://link.zhihu.com/?target=https%3A//tools.ietf.org/html/rfc3986%23section-3.1" target="_blank" rel="noopener noreferrer">rfc3986<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>规范的组成语法，我们将一个 URI 进行拆解</p> <div class="language-text extra-class"><pre class="language-text"><code>foo://example.com:8042/over/there?name=ferret#nose
   \_/   \______________/\_________/ \_________/ \__/
    |           |            |            |        |
 scheme     authority       path        query   fragment
    |   _____________________|__
   / \ /                        \
   urn:example:animal:ferret:nose
</code></pre></div><p>可以看到，除了 URI 基本可以拆解为<code>scheme</code>、<code>authority</code>、<code>path</code>、<code>query</code>、<code>fragment</code>五个组成部分，接下来我们就来对这五个部分进行一一讲解。</p> <h3 id="scheme"><a href="#scheme" class="header-anchor">#</a> scheme</h3> <p>URI 以 scheme 开头，scheme 指的是我们对应的协议比如<code>http</code>、<code>https</code>、<code>file</code>或者一些企业特定的诸如<code>weixin</code>、<code>alipays</code>、<code>qqmusic</code></p> <h3 id="authority"><a href="#authority" class="header-anchor">#</a> authority</h3> <p><strong>authority</strong>是 URI 从<code>//</code>开始，到<code>/ ? #</code>或者 URI 结束中间的内容部分。一般由<strong>主机名(host)</strong>、<strong>端口号(port)<strong>以及</strong>用户信息组成(userinfo)</strong>。</p> <p>authority 的对应规范如下：</p> <div class="language-text extra-class"><pre class="language-text"><code>authority = [ userinfo &quot;@&quot; ] host [ &quot;:&quot; port ]
</code></pre></div><h3 id="userinfo"><a href="#userinfo" class="header-anchor">#</a> userinfo</h3> <p>相比于我们常见的 host 与 port，userinfo 可能并不常见。</p> <p><strong>userinfo</strong>会包含用户名称之类的数据，这些数据用以获取对应资源的访问权限，userinfo 后面会跟@符号用以区分 host</p> <p><code>https://user:password@live.bilibili.com</code>中<code>user:password</code>就是 userinfo</p> <p><em><code>user:password</code>这种形式已经被弃用了，了解一下即可</em></p> <h3 id="host"><a href="#host" class="header-anchor">#</a> host</h3> <p><strong>host</strong>为我们的主机名，也是我们大家最常见的部分，一般都会是服务器 IP 地址或者域名，他们一般长成这样：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ip地址</span>
<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>
<span class="token comment">// 域名</span>
live<span class="token punctuation">.</span>bilibili<span class="token punctuation">.</span>com
</code></pre></div><h3 id="port"><a href="#port" class="header-anchor">#</a> port</h3> <p><strong>port</strong>端口号就是跟在 Host 之后的数字，举个例子：在<code>live.bilibili.com:8080</code>中<code>8080</code>就是我们的端口号，一般端口号默认为 80</p> <h3 id="path"><a href="#path" class="header-anchor">#</a> path</h3> <p>很多时候我们的 host 会有多级目录进行区分，这些就是 path</p> <p>比如说<code>live.bilibili.com:8080/page/</code>中的<code>page</code>就是 path</p> <h3 id="query"><a href="#query" class="header-anchor">#</a> query</h3> <p><strong>query</strong>就是我们 URI 中以<code>？</code>开头<code>&amp;</code>连接的部分，我们一般叫它<strong>请求参数</strong>。</p> <p>比如在<code>live.bilibili.com:8080/page/index.html?page=1&amp;size=10</code>中，<code>page=1&amp;size=10</code>就是 query</p> <h3 id="fragment"><a href="#fragment" class="header-anchor">#</a> fragment</h3> <p><strong>fragment</strong>是我们 URI 中#之后的部分，我们也叫它<strong>hash</strong>。</p> <p>比如在<code>live.bilibili.com:8080/page/index.html?page=1&amp;size=10#list</code>中<code>list</code>就是 fragment</p> <p><em>值得注意的是：浏览器往往会忽视 fragement 的变化，你可以尝试一下在浏览器的网址上添加一个#号后面输入内容，确认回车后浏览器并不会进行刷新</em></p> <p>综合上面，我们一个完整的 URI 很可能长成这样</p> <div class="language- extra-class"><pre class="language-text"><code>https://user:password@live.bilibili.com:8080/page/index.html?page=1&amp;size=10#list
</code></pre></div><p>现在你能分清楚每一部分都是什么吗？</p> <p>标准答案如下：</p> <ul><li>scheme: https</li> <li>authority
<ul><li>userinfo: user:password</li> <li>host: <a href="https://link.zhihu.com/?target=http%3A//live.bilibili.com" target="_blank" rel="noopener noreferrer">http://live.bilibili.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>port: 8080</li></ul></li> <li>path: /page/index.html</li> <li>query: page=1&amp;size=1</li> <li>fragment: list</li></ul> <blockquote><p>以上内容来源：</p> <p>作者：圈鹅
链接：https://zhuanlan.zhihu.com/p/216488873
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p></blockquote> <h2 id="url-拆解"><a href="#url-拆解" class="header-anchor">#</a> URL 拆解</h2> <p>对 URL 中的 query 部分做拆解，返回一个对象</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 'http://www.domain.com/order?user=anonymous&amp;id=123&amp;id=456&amp;city=%E5%8C%97%E4%BA%AC&amp;enabled#hash'</span>
<span class="token keyword">const</span> <span class="token function-variable function">parseUrl</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> params <span class="token operator">=</span> url
    <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token comment">//截取问号以后的字符串即user=anonymous&amp;id=123&amp;id=456&amp;city=%E5%8C%97%E4%BA%AC&amp;enabled#hash</span>
    <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token comment">//截取#号以前的字符串即user=anonymous&amp;id=123&amp;id=456&amp;city=%E5%8C%97%E4%BA%AC&amp;enabled</span>
    <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">)</span>
  <span class="token comment">//通过&amp;符号进行分割即[&quot;user=anonymous&quot;,&quot;id=123&quot;,&quot;id=456&quot;,&quot;city=%E5%8C%97%E4%BA%AC&quot;,&quot;enabled&quot;]</span>
  <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> s <span class="token keyword">of</span> params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">[</span>k <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span> v <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span>
    <span class="token comment">//解构赋值，k默认‘’，v默认true。</span>
    v <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token comment">//解码</span>
    v <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\d+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">:</span> v <span class="token comment">// 转换数字</span>
    <span class="token comment">//  /^\d+$/ 以数字开头的一个或多个数字且以数字结尾的字符串。</span>
    <span class="token comment">//  /正则表达式/.test()检查str中是否符合正则表达式的规则</span>
    <span class="token comment">//parseFloat()将字符串转化浮点数</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">?</span> obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">(</span>obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> v
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> obj
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token constant">URI</span> 编码：<span class="token punctuation">[</span><span class="token function">encodeURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">(</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>developer<span class="token punctuation">.</span>mozilla<span class="token punctuation">.</span>org<span class="token operator">/</span>zh<span class="token operator">-</span><span class="token constant">CN</span><span class="token operator">/</span>docs<span class="token operator">/</span>Web<span class="token operator">/</span>JavaScript<span class="token operator">/</span>Reference<span class="token operator">/</span>Global_Objects<span class="token operator">/</span>encodeURI<span class="token punctuation">)</span>、<span class="token punctuation">[</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">(</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>developer<span class="token punctuation">.</span>mozilla<span class="token punctuation">.</span>org<span class="token operator">/</span>zh<span class="token operator">-</span><span class="token constant">CN</span><span class="token operator">/</span>docs<span class="token operator">/</span>Web<span class="token operator">/</span>JavaScript<span class="token operator">/</span>Reference<span class="token operator">/</span>Global_Objects<span class="token operator">/</span>encodeURIComponent<span class="token punctuation">)</span>
    
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>## 将 <span class="token constant">HTTP</span> headers 转换为对象

<span class="token constant">HTTP</span> headers 为文本型字符串，将其转化为 <span class="token constant">JS</span> 对象

<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http
Accept: */*
Cache-Control: no-cache
Connection: keep-alive
Content-Type: application/json
 
        Copied!
</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>
<span class="token keyword">const</span> <span class="token function-variable function">headersTrans</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> t <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">': '</span><span class="token punctuation">)</span>
    obj<span class="token punctuation">[</span>t<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> obj
<span class="token punctuation">}</span>
 
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notes/javascript/" class="prev router-link-active">
        我是真的不会啊
      </a></span> <span class="next"><a href="/notes/javascript/Promise.html">
        Promise
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/notes/assets/js/app.07575453.js" defer></script><script src="/notes/assets/js/2.3eba13e5.js" defer></script><script src="/notes/assets/js/26.0122d4b3.js" defer></script>
  </body>
</html>
